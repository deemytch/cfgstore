# Configuration loader

* Автоматически грузит `config/cfg.$env.yml` и `config/routes.$env.yml`.
* Создаёт глобальные переменные `App`, `Cfg`, `Log`, `MQLog`.

## Как этим пользоваться

Распознаются переменные окружения `APP_ENV` и `LOG_LEVEL`.

Значения `APP_ENV` -- любые, важно совпадение с именами файлов. По умолчанию при отсутствии переменной выставляется `:development`. Значение рабочего окружения присваивается переменной `Cfg.env`.

Значения `LOG_LEVEL` -- стандартные уровни Logger.

**По умолчанию** при `Cfg.env == :production` `LOG_LEVEL == 'INFO'`, во всех остальных случаях -- `'DEBUG'`.

Хэш (с настройками) загружается из файла `config/cfg.#{ environment }.yml` в глобальную переменную `Cfg`.

Затем в `Cfg.routes` подгружаются роуты из файла `config/routes.#{ environment }.yml`.

При настройке логирования предполагается наличие в настройках ключа `Cfg.app.log == (stderr|stdout|имя-файла)`.

Класс `App::App` при создании инициализирует всю эту кухню.

Доступ к значениям настроек может быть через [:symbol], ['string'] или через точку. То есть эти записи равнозначны: `Cfg.app.id, Cfg[:app][:id], Cfg['app']['id'], Cfg.app[:id]`.
